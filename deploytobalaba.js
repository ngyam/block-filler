const fs = require('fs')
const tobalabaFastContract = "0x608060405234801561001057600080fd5b5061022d806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680637cd6896714610051578063bfd51fbf1461009a575b600080fd5b34801561005d57600080fd5b506100666100d5565b60405180826bffffffffffffffffffffffff19166bffffffffffffffffffffffff1916815260200191505060405180910390f35b3480156100a657600080fd5b506100d360048036038101908080359060200190820180359060200191909192939192939050505061018d565b005b600060606000602060405190810160405280600081525091505a90505b6103e8811115610188576003826040518082805190602001908083835b602083101515610134578051825260208201915060208101905060208303925061010f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610178573d6000803e3d6000fd5b50505060405151505a90506100f2565b505090565b6000805a91506004600f85859050028115156101a557fe5b046103e80190505b808211156101fb5760038484604051808383808284378201915050925050506020604051808303816000865af11580156101eb573d6000803e3d6000fd5b50505060405151505a91506101ad565b505050505600a165627a7a723058209c370e4585361cb266d6d35f766d91021c21d619306574064610eea17e33e2680029";
const tobalabaSlowContract = "0x608060405234801561001057600080fd5b50610137806100206000396000f300608060405260043610610041576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063a92100cb14610046575b600080fd5b34801561005257600080fd5b5061005b61005d565b005b60005a90505b60fa8111156101085760017effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80095060017effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80095060017effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80095060017effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8009505a9050610063565b505600a165627a7a723058200c9750b51827f8f8299f019e782d6d63ae33b88fa753925c47adedd077f5e5140029"
const Web3 = require('web3')

async function main() {
    let web3 = new Web3("https://tobalaba-rpc.energyweb.org")
    const id = await web3.eth.net.getId()
    console.log(id)

    const accounts = JSON.parse(fs.readFileSync(__dirname + "/accounts.json"))
    accounts.map(acc => web3.eth.accounts.wallet.add(acc))

    txs = [
        {
            from :process.env.FROM,
            data: tobalabaFastContract,
            gas: 500000,
            gasPrice: 20000000
        },
        {
            from :process.env.FROM,
            data: tobalabaSlowContract,
            gas: 500000,
            gasPrice: 20000000
        },
    ]

    console.log(await web3.eth.sendTransaction(txs[0]))
    console.log(await web3.eth.sendTransaction(txs[1]))
}

main()
